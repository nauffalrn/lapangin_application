<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" th:href="@{/css/style.css}" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title th:text="${pageTitle}">Account Settings</title>
  </head>

  <body>
    <aside class="sidebar">
      <header class="sidebar-header">
        <a class="header-logo">
          <img src="/images/LA.png" th:src="@{/images/LA.png}" alt="Lapangin" />
        </a>

        <button class="toggler sidebar-toggler">
          <span class="material-symbols-rounded">chevron_left</span>
        </button>
      </header>

      <nav class="sidebar-nav">
        <ul class="nav-list primary-nav">
          <li class="nav-item">
            <a href="@{/dashboard}" class="nav-link">
              <span class="nav-icon material-symbols-rounded">dashboard</span>
              <span class="nav-label">Dashboard</span>
            </a>
            <span class="nav-tooltip">Dashboard</span>
          </li>
          <li class="nav-item">
            <a th:href="@{/calender}" class="nav-link">
              <span class="nav-icon material-symbols-rounded">today</span>
              <span class="nav-label">Calendar</span>
            </a>
            <span class="nav-tooltip">Calendar</span>
          </li>
          <li class="nav-item">
            <a th:href="@{/notifications}" class="nav-link">
              <span class="nav-icon material-symbols-rounded"
                >notifications</span
              >
              <span class="nav-label">Notifications</span>
            </a>
            <span class="nav-tooltip">Notifications</span>
          </li>
          <li class="nav-item">
            <a href="@{/history}" class="nav-link">
              <span class="nav-icon material-symbols-rounded">history</span>
              <span class="nav-label">History</span>
            </a>
            <span class="nav-tooltip">History</span>
          </li>
          <li class="nav-item">
            <a th:href="@{/wallet}" class="nav-link">
              <span class="nav-icon material-symbols-rounded">wallet</span>
              <span class="nav-label">Wallets</span>
            </a>
            <span class="nav-tooltip">Wallets</span>
          </li>
        </ul>

        <!--Secondary Bot nav-->
        <ul class="nav-list secondary-nav">
          <li class="nav-item toggle-dark-mode">
            <span class="dark-mode-label">Dark Mode</span>
            <label class="toggle-switch">
              <input type="checkbox" id="dark-mode-toggle" />
              <span class="slider"></span>
            </label>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <span class="nav-icon material-symbols-rounded"
                >account_circle</span
              >
              <span class="nav-label">Profile</span>
            </a>
            <span class="nav-tooltip">Profile</span>
          </li>
          <li class="nav-item">
            <a th:href="@{/login}" class="nav-link">
              <span class="nav-icon material-symbols-rounded">login</span>
              <span class="nav-label">Login</span>
            </a>
            <span class="nav-tooltip">Login</span>
          </li>
        </ul>
      </nav>
    </aside>

    <div class="container light-style flex-grow-1 container-p-y">
      <h4 class="font-weight-bold py-3 mb-4">Account Settings</h4>
      <div class="card overflow-hidden">
        <div class="row no-gutters row-bordered row-border-light">
          <div class="col-md-3 pt-0">
            <div class="list-group list-group-flush account-settings-links">
              <a
                class="list-group-item list-group-item-action active"
                data-toggle="list"
                href="#account-general"
                >General</a
              >
              <a
                class="list-group-item list-group-item-action"
                data-toggle="list"
                href="#account-change-password"
                >Change Password</a
              >
            </div>
          </div>
          <div class="col-md-9">
            <div class="tab-content">
              <!-- General tab -->
              <div class="tab-pane fade active show" id="account-general">
                <div class="card-body media align-items-center">
                  <img
                    th:src="${user.profileImage != null} ? @{${user.profileImage}} : @{/images/default avatar.jpg}"
                    alt="Profile Image"
                    class="d-block ui-w-80"
                  />
                  <div class="media-body ml-4">
                    <form
                      th:action="@{/upload-profile-image}"
                      method="post"
                      enctype="multipart/form-data"
                    >
                      <label class="btn btn-outline-primary">
                        Upload New Photo
                        <input
                          type="file"
                          name="profileImage"
                          class="account-settings-fileinput"
                          accept="image/*"
                        />
                      </label>
                      &nbsp;
                      <button type="submit" class="btn btn-primary">
                        Upload
                      </button>
                    </form>
                    <div class="text-light small mt-1">
                      Allowed JPG, GIF, or PNG. Max size of 800K
                    </div>
                  </div>
                </div>
                <hr class="border-light m-0" />
                <div class="card-body">
                  <div class="form-group">
                    <label class="form-label">Username</label>
                    <input
                      type="text"
                      class="form-control mb-1"
                      th:value="${user.username}"
                      readonly
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">Name</label>
                    <input
                      type="text"
                      class="form-control"
                      th:value="${user.name}"
                      name="name"
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">E-mail</label>
                    <input
                      type="email"
                      class="form-control mb-1"
                      th:value="${user.email}"
                      name="email"
                    />
                  </div>
                </div>
              </div>

              <!-- Change password tab -->
              <div class="tab-pane fade" id="account-change-password">
                <div class="card-body">
                  <form th:action="@{/change-password}" method="post">
                    <div class="form-group">
                      <label class="form-label">Current Password</label>
                      <input
                        type="password"
                        class="form-control"
                        name="currentPassword"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">New Password</label>
                      <input
                        type="password"
                        class="form-control"
                        name="newPassword"
                        required
                      />
                    </div>
                    <div class="form-group">
                      <label class="form-label">Confirm New Password</label>
                      <input
                        type="password"
                        class="form-control"
                        name="confirmPassword"
                        required
                      />
                    </div>
                    <button type="submit" class="btn btn-primary">
                      Change Password
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="text-right mt-3">
        <button type="button" class="btn btn-primary">Save changes</button
        >&nbsp;
        <button type="button" class="btn btn-default">Cancel</button>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/darkmode.js" th:src="@{/js/darkmode.js}"></script>
    <script src="/js/script.js" th:src="@{/js/script.js}"></script>
  </body>
</html>
